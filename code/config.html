<html>
<head>
<title>Internode Usage Monitor - Settings</title>
<script>

function saveConfig(form) {
    try {
        console.debug(form[0].value);
        chrome.extension.getBackgroundPage().setCredentials(form[0].value, form[1].value);    
        chrome.extension.getBackgroundPage().fetchCustomerID();    
    } catch(e) {
        //TODO: show user visible errr message
        console.error("Err:"+e);
    } finally {	
        return false; //stop any further event processing
    }
}


</script>
</head>

<body>
<form onsubmit="return saveConfig(this);"><label>Username</label><input
    type="text" name="username" /> <br />
<label>Password</label><input type="password" name="password" /> <br />
<input type="submit" value="Save" />
</form>

<input type="button" value="Run" onclick="return run();" />

</body>
</html>